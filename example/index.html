<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>&lt;json-viewer&gt; Element</title>
    <script type="module" defer>
      import { JsonViewerElement } from '../dist/json-viewer-element.es.js'
    </script>
    <style>
      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px;
        line-height: 1.6;
      }
      .demo {
        margin-bottom: 30px;
        border: 1px solid #eee;
        border-radius: 8px;
        padding: 20px;
        background: #fafafa;
      }
      .demo h3 {
        margin-top: 0;
        color: #333;
      }
      .demo p {
        color: #666;
        margin-bottom: 15px;
      }
      .feature-list {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 20px;
        margin-top: 20px;
      }
    </style>
  </head>
  <body>
    <h1>&lt;json-viewer&gt; Element åŠŸèƒ½æ¼”ç¤º</h1>

    <div class="demo">
      <h3>ğŸ¨ åŸºç¡€åŠŸèƒ½å±•ç¤º</h3>
      <p>åŒ…å«æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½ï¼šboxed è¾¹æ¡†ã€copyable å¤åˆ¶ã€sort æ’åºã€å±•å¼€æ·±åº¦æ§åˆ¶</p>
      <json-viewer id="basic" boxed copyable sort expand-depth="2"></json-viewer>
    </div>

    <div class="feature-list">
      <div class="demo">
        <h3>ğŸ“‹ è‡ªå®šä¹‰å¤åˆ¶åŠŸèƒ½</h3>
        <p>ä¸­æ–‡ç•Œé¢ã€å·¦å¯¹é½ã€3 ç§’å»¶è¿Ÿ</p>
        <json-viewer
          id="copy-custom"
          copyable='{"copyText":"å¤åˆ¶","copiedText":"å·²å¤åˆ¶","timeout":3000,"align":"left"}'
          boxed
          expand-depth="1"
        ></json-viewer>
      </div>

      <div class="demo">
        <h3>ğŸ”’ ç®€æ´æ¨¡å¼</h3>
        <p>æ— è¾¹æ¡†ã€æ— å¤åˆ¶æŒ‰é’®ã€ä¸æ’åº</p>
        <json-viewer id="simple" expand-depth="1"></json-viewer>
      </div>

      <div class="demo">
        <h3>ğŸ“ æ·±å±‚å±•å¼€</h3>
        <p>å±•å¼€æ·±åº¦ä¸º 3 å±‚ï¼ŒæŸ¥çœ‹æ·±å±‚åµŒå¥—æ•°æ®</p>
        <json-viewer id="deep" boxed sort expand-depth="3"></json-viewer>
      </div>

      <!-- <div class="demo">
        <h3>ğŸ“Š æ•°ç»„æ•°æ®</h3>
        <p>ä¸“é—¨å±•ç¤ºæ•°ç»„ç±»å‹æ•°æ®çš„æ¸²æŸ“æ•ˆæœ</p>
        <json-viewer id="array" boxed copyable></json-viewer>
      </div> -->

      <div class="demo">
        <h3>ğŸ¨ è‡ªå®šä¹‰å¤åˆ¶æŒ‰é’®</h3>
        <p>ä½¿ç”¨ slot è‡ªå®šä¹‰å¤åˆ¶æŒ‰é’®æ ·å¼å’Œè¡Œä¸º</p>
        <json-viewer id="custom-copy" boxed copyable='{"align":"left"}' expand-depth="2">
          <button slot="copy-button" class="custom-copy-btn" style="
            background: linear-gradient(45deg, #007acc, #00d4ff);
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 12px;
            display: flex;
            align-items: center;
            gap: 4px;
            transition: transform 0.2s ease;
          " onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
            <span>ğŸ“‹</span>
            <span>å¤åˆ¶ JSON</span>
          </button>
        </json-viewer>
      </div>

      <div class="demo">
        <h3>ğŸ”§ è‡ªå®šä¹‰å¤åˆ¶è¡Œä¸º</h3>
        <p>è‡ªå®šä¹‰å¤åˆ¶æˆåŠŸå’Œå¤±è´¥çš„å¤„ç†é€»è¾‘</p>
        <json-viewer id="custom-behavior" boxed copyable expand-depth="1">
          <button slot="copy-button" id="smart-copy-btn" style="
            background: #28a745;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
            position: relative;
          ">
            æ™ºèƒ½å¤åˆ¶
          </button>
        </json-viewer>
        <div id="copy-status" style="margin-top: 10px; padding: 8px; border-radius: 4px; display: none;"></div>
      </div>

            <div class="demo">
        <h3>ğŸ›ï¸ è‡ªå®šä¹‰æŒ‰é’®è¡Œä¸ºæ§åˆ¶</h3>
        <p>é€šè¿‡ copyable å±æ€§æ§åˆ¶æ˜¯å¦å¯ç”¨é»˜è®¤å¤åˆ¶è¡Œä¸º</p>
        <json-viewer id="custom-control" boxed copyable expand-depth="1">
          <button slot="copy-button" copyable="false" style="
            background: #6c757d;
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
          " onclick="alert('è¿™æ˜¯è‡ªå®šä¹‰ç‚¹å‡»äº‹ä»¶ï¼Œä¸ä¼šå¤åˆ¶JSONæ•°æ®')">
            è‡ªå®šä¹‰è¡Œä¸º
          </button>
        </json-viewer>
      </div>
    </div>

    <script>
      const data = {
        name: 'Lruihao',
        age: 18,
        isActive: true,
        score: null,
        date: new Date(),
        fn: () => {},
        regex: /ab+c/i,
        tags: ['developer', 'javascript', 'typescript'],
        emptyArray: [],
        emptyObject: {},
        profile: {
          social: {
            github: 'Lruihao',
            twitter: '@liruihao',
            website: 'https://lruihao.cn',
          },
          skills: ['JavaScript', 'TypeScript', 'Vue', 'React'],
          experience: {
            years: 5,
            level: 'Senior',
            projects: [
              { name: 'Project A', status: 'completed' },
              { name: 'Project B', status: 'in-progress' },
            ],
          },
        },
      }

      const arrayData = [
        { id: 1, name: 'Alice', active: true },
        { id: 2, name: 'Bob', active: false },
        { id: 3, name: 'Charlie', active: true },
        'simple string',
        42,
        null,
        [1, 2, 3],
      ]

      document.addEventListener('DOMContentLoaded', () => {
        // ä¸ºæ‰€æœ‰ç»„ä»¶è®¾ç½®æ•°æ®
        document.getElementById('basic').value = data
        document.getElementById('copy-custom').value = data
        document.getElementById('simple').value = data
        document.getElementById('deep').value = data
        // document.getElementById('array').value = arrayData

        // è‡ªå®šä¹‰å¤åˆ¶æŒ‰é’®æµ‹è¯•æ•°æ®
        document.getElementById('custom-copy').value = {
          theme: 'custom',
          features: ['slot support', 'custom events', 'flexible styling'],
          version: '1.0.0'
        };
        
        document.getElementById('custom-behavior').value = {
          message: 'Test custom copy behavior',
          timestamp: new Date().toISOString()
        };
        
        document.getElementById('custom-control').value = {
          message: 'Custom button behavior',
          description: 'This button will not copy JSON data'
        };
        
        // è‡ªå®šä¹‰å¤åˆ¶è¡Œä¸ºäº‹ä»¶å¤„ç†
        const smartCopyBtn = document.getElementById('smart-copy-btn');
        const copyStatus = document.getElementById('copy-status');
        
        smartCopyBtn.addEventListener('copy-success', (e) => {
          copyStatus.style.display = 'block';
          copyStatus.style.background = '#d4edda';
          copyStatus.style.color = '#155724';
          copyStatus.style.border = '1px solid #c3e6cb';
          copyStatus.innerHTML = `
            âœ… å¤åˆ¶æˆåŠŸï¼<br>
            <small>å·²å¤åˆ¶ ${e.detail.text.split('\n').length} è¡Œæ•°æ®åˆ°å‰ªè´´æ¿</small>
          `;
          
          setTimeout(() => {
            copyStatus.style.display = 'none';
          }, 3000);
        });
        
        smartCopyBtn.addEventListener('copy-error', (e) => {
          copyStatus.style.display = 'block';
          copyStatus.style.background = '#f8d7da';
          copyStatus.style.color = '#721c24';
          copyStatus.style.border = '1px solid #f5c6cb';
          copyStatus.innerHTML = 'âŒ å¤åˆ¶å¤±è´¥ï¼Œè¯·é‡è¯•';
          
          setTimeout(() => {
            copyStatus.style.display = 'none';
          }, 3000);
        });

        console.log('JSON Viewer Element æ¼”ç¤ºé¡µé¢å·²åŠ è½½å®Œæˆ')
      })
    </script>
  </body>
</html>
